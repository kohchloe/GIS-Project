<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>G2T5: MerGIS - Preparation of Accessibility Map</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">G2T5: MerGIS</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./proposal.html">Proposal</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./poster.html">Poster</a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data" role="button" data-bs-toggle="dropdown" aria-expanded="false">Data</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data">    
        <li>
    <a class="dropdown-item" href="./datacollection.html">
 <span class="dropdown-text">Data Collection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./datapreparation.html">
 <span class="dropdown-text">Data Preparation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./chloropleth.html">
 <span class="dropdown-text">Preparation of Chloropleth Map</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./accessibility.html">
 <span class="dropdown-text">Preparation of Accessibility Map</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./webmaps.html">Maps</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./report.html">Report</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html">About</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Preparation of Accessibility Map</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datacollection.html" class="sidebar-item-text sidebar-link">Data Collection</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datapreparation.html" class="sidebar-item-text sidebar-link">Data Preparation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chloropleth.html" class="sidebar-item-text sidebar-link">Preparation of Chloropleth Map</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./accessibility.html" class="sidebar-item-text sidebar-link active">Preparation of Accessibility Map</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preparing-base-layer-for-the-study-area" id="toc-preparing-base-layer-for-the-study-area" class="nav-link active" data-scroll-target="#preparing-base-layer-for-the-study-area">1. Preparing base layer for the study area</a></li>
  <li><a href="#preparing-schools-layer" id="toc-preparing-schools-layer" class="nav-link" data-scroll-target="#preparing-schools-layer">2. Preparing schools layer&nbsp;</a>
  <ul class="collapse">
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">2.1 Importing data&nbsp;</a></li>
  <li><a href="#extracting-data-for-respective-school-types" id="toc-extracting-data-for-respective-school-types" class="nav-link" data-scroll-target="#extracting-data-for-respective-school-types">2.2. Extracting data for respective school types&nbsp;</a></li>
  </ul></li>
  <li><a href="#extracting-and-preparing-road-network-layer" id="toc-extracting-and-preparing-road-network-layer" class="nav-link" data-scroll-target="#extracting-and-preparing-road-network-layer">3. Extracting and preparing road network layer</a>
  <ul class="collapse">
  <li><a href="#selecting-all-road-network-within-the-study-area" id="toc-selecting-all-road-network-within-the-study-area" class="nav-link" data-scroll-target="#selecting-all-road-network-within-the-study-area">3.1 Selecting all road network within the study area&nbsp;</a></li>
  <li><a href="#extracting-desired-road-networks" id="toc-extracting-desired-road-networks" class="nav-link" data-scroll-target="#extracting-desired-road-networks">3.2. Extracting desired road networks</a></li>
  </ul></li>
  <li><a href="#analytical-hexagon" id="toc-analytical-hexagon" class="nav-link" data-scroll-target="#analytical-hexagon">4. Analytical Hexagon&nbsp;</a>
  <ul class="collapse">
  <li><a href="#creating-hexagon-layer" id="toc-creating-hexagon-layer" class="nav-link" data-scroll-target="#creating-hexagon-layer">4.1. Creating hexagon layer</a></li>
  <li><a href="#editing-and-saving-the-hexagon-layer" id="toc-editing-and-saving-the-hexagon-layer" class="nav-link" data-scroll-target="#editing-and-saving-the-hexagon-layer">4.2. Editing and saving the hexagon layer</a></li>
  <li><a href="#computing-and-saving-the-hexagon-centroid" id="toc-computing-and-saving-the-hexagon-centroid" class="nav-link" data-scroll-target="#computing-and-saving-the-hexagon-centroid">4.3. Computing and saving the hexagon centroid</a></li>
  </ul></li>
  <li><a href="#network-accessibility-analysis-with-neat3" id="toc-network-accessibility-analysis-with-neat3" class="nav-link" data-scroll-target="#network-accessibility-analysis-with-neat3">5. Network accessibility analysis with NEAT3</a>
  <ul class="collapse">
  <li><a href="#working-with-od-matrix-tool" id="toc-working-with-od-matrix-tool" class="nav-link" data-scroll-target="#working-with-od-matrix-tool">5.1 Working with OD Matrix Tool</a></li>
  <li><a href="#extracting-shortest-distance-pairs" id="toc-extracting-shortest-distance-pairs" class="nav-link" data-scroll-target="#extracting-shortest-distance-pairs">5.2. Extracting shortest distance pairs</a></li>
  <li><a href="#mapping-accessibility-values" id="toc-mapping-accessibility-values" class="nav-link" data-scroll-target="#mapping-accessibility-values">5.3. Mapping accessibility values</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Preparation of Accessibility Map</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="preparing-base-layer-for-the-study-area" class="level2">
<h2 class="anchored" data-anchor-id="preparing-base-layer-for-the-study-area">1. Preparing base layer for the study area</h2>
<p>Download Master Plan 2014 Subzone Boundary from data.gov.sg and import it into QGIS. To do this, select <strong>Layer</strong> &gt; <strong>Add layer</strong> &gt; <strong>Add vector layer</strong>.&nbsp;</p>
<p><img src="https://lh5.googleusercontent.com/wBMM_AVk64fLiq3XYDyGKWrbsJoZVWSl0TtBSlJZkktTFU8WWqyXBo636_xOhIeXDffTik7R6Y4XU9C6usXtv1QZnUlVBsdB1B0KpOqPwX87bhmHrTBfyY542eM9YD6FL5O1SeWzkO4BUCyBULF-7IjY4HjiHVeS3VfUVcYmi_Y-kUITOxqSTi_9D7pqMw.png" class="img-fluid"></p>
<p>The <strong>Data Source Manager</strong> dialog window appears. For Vector Dataset(s), select MP14_SUBZONE_NO_SEA_PL.shp.&nbsp;</p>
<p><img src="https://lh4.googleusercontent.com/9QIJ2RB2T0_YuIO4gSDzGe-32zwcZ1c-LKDhd0gmP_dGsoiZM4SJdWyxQ06RD3oxS2NDs3z3iJ60mUjKQ6u64hnIigfrZiGKy46MI51LCzilMJj8MCvCXIUSLdWtxGZPwYFQ5z3INUrRd5NU21TzeNYi5L1ILLRvXwgFE8vcpm5C8paWT4LvAF_4UX8lHA.png" class="img-fluid"></p>
<p>Click <strong>Add</strong>. Click <strong>Close</strong>.&nbsp;</p>
<p><br>
</p>
<p>Save the layer into GeoPackage format. Right click on the layer and select <strong>Export</strong> &gt; <strong>Save Features As</strong>.</p>
<p><img src="https://lh4.googleusercontent.com/bk8v94LNn_OKX73vUTqZI9SwOAs4VbiyLaaD-tawY0hD-VcleLzyLl1HqXmaj7JUnuVy6MgyYwSlQ_aC3nFEoxPsjdXKRDWFe0RswOXz6sXOz1E10lVS6f-QOc8LimsYwVscC8wmOmuVFISG2SpR0PzekYpPzziUoiE-up7_kt4j1RtPFZg_gmHGyv6_eQ.png" class="img-fluid"></p>
<p>The <strong>Save Vector Layer as</strong> dialog window appears. For Format, select GeoPackage. For File name, select the SG GeoPackage you previously created. For Layer name, enter MP14. For CRS, select Project CRS: EPSG:3414 - SVY21. Your dialog window should look like the screenshot below.&nbsp;</p>
<p><img src="https://lh6.googleusercontent.com/sPwsweg_299HNWQuVl6VYe9f3KpvEFEnUhfDqFKqd5EJWh5DScu2nQe-5kmk4HLd7VYMz6KcjFbrEaEtShaytCTQedYdpUEYQAKyoQGL1d9PTcbHXGkstBAkyd06APNGqKa7xoQI65TyFLauO-lI5QF-Vkd1opcTlKx-Xg4B9JqP4kSLK_v017joJ3PSXA.png" class="img-fluid"></p>
<p>Click <strong>OK</strong>. Once the layer has been saved into the SG GeoPackage, you can remove the original layer.&nbsp;</p>
<p><br>
<br>
</p>
</section>
<section id="preparing-schools-layer" class="level2">
<h2 class="anchored" data-anchor-id="preparing-schools-layer">2. Preparing schools layer&nbsp;</h2>
<section id="importing-data" class="level3">
<h3 class="anchored" data-anchor-id="importing-data">2.1 Importing data&nbsp;</h3>
<p>Import the csv files for education into QGIS. You can start with the file for before the 2015 merger. Select <strong>Layer</strong> &gt; <strong>Add Layer</strong> &gt; <strong>Add delimited text layer</strong>. The <strong>Data Source Manager</strong> dialog window appears. Open the before merger (2015) CSV file. For Layer name, enter before merger (2015). Under Geometry Definition, select Point coordinates. For X field, select Longitude, and for Y field, select Latitude. For CRS, select EPSG:4326 - WGS 84. Your dialog window should look like the screenshot below.&nbsp;</p>
<p><img src="https://lh5.googleusercontent.com/i3Lhgn6SsdmZctka_qE7YCrMc_Cyc8HfABDvKAWeT6dNi6_0HD-EtD-pulh7DsxiYSL74eGpdLX4udqQvLsKQuf_a9xW2PSqVyLXWKJO1XRSOXH8LpjB31VQ5nGvhdyyXLA0Oa7fr26EddRNd0Ny5S1spfJv1HNrodeNll1Yn5WpMVM1DyfcrGmXvgkcSA.png" class="img-fluid"></p>
<p>Click <strong>Add</strong>. Click <strong>Close</strong>.&nbsp;</p>
<p><br>
</p>
<p>Repeat these steps to import the CSVs for the other years – before merger (2017), before merger (2019), and after merger (2019).&nbsp;</p>
<p><br>
</p>
</section>
<section id="extracting-data-for-respective-school-types" class="level3">
<h3 class="anchored" data-anchor-id="extracting-data-for-respective-school-types">2.2. Extracting data for respective school types&nbsp;</h3>
<p>You will need to extract the data for each of the school types. For our study, we have decided to analyse 3 types – primary schools, secondary schools, and pre-tertiary institutes (junior colleges and others – such as polytechnics and international baccalaureate (IB) schools).&nbsp;</p>
<p><br>
</p>
<p>Let’s start with extracting the primary schools for each year.&nbsp;</p>
<p><br>
</p>
<ol type="1">
<li><p>Right click on before merger (2015) and select <strong>Open Attribute Table</strong>. Click on <strong>Select features using an expression</strong>.&nbsp;</p></li>
<li><p>Click on the arrow in front of <strong>Fields and Values</strong>. Double click on <strong>mainlevel_code</strong>.&nbsp;</p></li>
<li><p>Click on <strong>=</strong>.&nbsp;</p></li>
<li><p>Click <strong>All Unique</strong>. Double click on <strong>PRIMARY</strong>.&nbsp;</p></li>
<li><p>Your expression box should look like the screenshot below.&nbsp;</p></li>
</ol>
<p><img src="https://lh5.googleusercontent.com/WNm1iY_1YNkq2NCYYjNzlKO0Ou6zo7nIqmqvG5DzDowkCyy6GczS-04XBIzS1FyrFbRH5q80zZer9fekP9pXjOSc_eqfIdK-FkOKnkItW9TWs5puJ-bR4-MnYIwqCj9Xutyp4q5gtH0aDut3xAHu1ap-IZp1esrcDUwyZQh8joCBewLQHYds8cgVTQ0LwQ.png" class="img-fluid"></p>
<ol start="6" type="1">
<li><p>Click <strong>Select Features</strong>. Click <strong>Close</strong>.&nbsp;</p></li>
<li><p>Right click on the layer and save selected features into the SG GeoPackage as bef15_pri.&nbsp;</p></li>
</ol>
<p><br>
</p>
<p>Repeat these steps above for before merger (2017) (as bef17_pri), before merger (2019) (as bef19_pri), and after merger (2019) (aft19_pri).&nbsp;</p>
<p><br>
</p>
<p>Once you have extracted the primary schools for the 4 time periods, repeat these steps to extract secondary schools (with mainlevel_code = ‘SECONDARY’) and pre-tertiary schools (with mainlevel_code = ‘CENTRALISED INSTITUTE’ and ‘JUNIOR COLLEGE’).&nbsp;</p>
<p><br>
</p>
</section>
</section>
<section id="extracting-and-preparing-road-network-layer" class="level2">
<h2 class="anchored" data-anchor-id="extracting-and-preparing-road-network-layer">3. Extracting and preparing road network layer</h2>
<section id="selecting-all-road-network-within-the-study-area" class="level3">
<h3 class="anchored" data-anchor-id="selecting-all-road-network-within-the-study-area">3.1 Selecting all road network within the study area&nbsp;</h3>
<p>Firstly, we will need to import the roads layer from the OpenStreetMap dataset. Select <strong>Layer</strong> &gt; <strong>Add Layer</strong> &gt; <strong>Add Vector Layer</strong>. The <strong>Data Source Manager</strong> dialog window appears. Open the gis_osm_roads_free_1.shp file.&nbsp;</p>
<p><img src="https://lh3.googleusercontent.com/UrSD4MYY-Ve7ncivlPxI0LFxn94vnk1Er_du6lgWLFEx6Gj6MnJbMo-2EN1J5JJ1zdOQ8WgFErxWsX46TvhlV4lKd4oYfpQUFQ3roTU8w-WsdFlPqQnEbrHoXZnsMlII-5hgvPsdTAlb82J7EV65ZzM6pjBKQEI5mSgcMzwDUEqbTVUV-vc_gXVYumAkYQ.png" class="img-fluid"></p>
<p>Click <strong>Add</strong>. Click <strong>Close</strong>.</p>
<p><br>
</p>
<p>Select <strong>Vector</strong> &gt; <strong>Geoprocessing Tools</strong> &gt; <strong>Clip</strong>.&nbsp;</p>
<p>&nbsp;<img src="https://lh4.googleusercontent.com/5m3PR8Z1gGmzbO1Zjw1Cwmw9zOrkvFFRXmNA7HY0vwPCFDX2TIF-qBBSqUifq6j9VH_v6crWTyN4aEOOc84Qxds6DJBsfEyMXt3fFgWZ-uwBkPzGSc7x2OlF2--lPbqhzbeAyiEod2cYqaFCpgE39USI4eMFUB9si8gXcRR530PnmWNWN5Rt2cqwl_ZHGg.png" class="img-fluid"></p>
<p>The <strong>Clip</strong> dialog window appears. For Input layer, select gis_osm_roads_free_1.shp. For Overlay, select MP14. Click on Advanced Options icon. For Invalid feature filtering, select Do not Filter (Better Performance). Your Clip dialog window should look like the screenshot below. When ready, click <strong>Run</strong>.&nbsp;</p>
<p><img src="https://lh3.googleusercontent.com/sgDd0v4cJw_p6BD_BY06x0D85aIC-anUj8UqROkoS2cDoPlvkT_K_nCOoLQF19BFTlc7p16QPoQXPDhKYQeaP7x6P8dI58m840TrmB7AGza9-9kJC13DpxtXs2iuRVs6c2znQKtr1GaDvGyXFUOnOQjjutYofOcOiRzTW4F5i11sc1ibu99UUsx-1IFLEg.png" class="img-fluid"></p>
<p>Once the clipped layer has been created, save it into the SG GeoPackage as all_roads. Once saved, remove gis_osm_roads_free_1.shp and the clipped layer.&nbsp;</p>
<p><br>
</p>
</section>
<section id="extracting-desired-road-networks" class="level3">
<h3 class="anchored" data-anchor-id="extracting-desired-road-networks">3.2. Extracting desired road networks</h3>
<p>For each of the school types, we will extract different types of roads. For primary schools, we will only be looking at walking paths. For secondary schools, we will be looking at both walking paths and motor vehicle road networks, For pre-tertiary institutes, we will also be looking at both walking paths and motor vehicle road networks.&nbsp;</p>
<p><br>
</p>
<p>We will start with extracting the desired road network for primary schools.&nbsp;</p>
<p><br>
</p>
<ol type="1">
<li><p>Right click on all_roads which we just created, and select <strong>Open Attribute Table</strong>. Click on <strong>Select features using an expression</strong>.&nbsp;</p></li>
<li><p>Click on the arrow in front of <strong>Fields and Values</strong>. Double click on <strong>fclass</strong>.&nbsp;</p></li>
<li><p>Click on <strong>=</strong>.&nbsp;</p></li>
<li><p>Click <strong>All Unique</strong>. Double click on <strong>living_street</strong>.&nbsp;</p></li>
<li><p>Continue entering the different fclass types into the expression box to extract all the roads for walking paths.&nbsp;</p></li>
</ol>
<!-- -->
<ol start="8" type="1">
<li>Your expression box should look like the screenshot below.&nbsp;</li>
</ol>
<p><img src="https://lh3.googleusercontent.com/IeNEc0CcZnW90DVCBrah7ORt-GzJi_G_qh9RFHyY7KWO4qyrlpBGAE5IkGqKka5W6WYo1aEGC9Io7VcbtmqN13FqOyxWz_2mGzJBXiLS_c1W4iF2FGcb0gZHPmDIkLn5qpJu43ReTW3KIV49gZqWiOfZ0kCFvTkQdQ72iKZDhyXLc2BbAIkUb-I4TGbucA.png" class="img-fluid"></p>
<ol start="9" type="1">
<li><p>Click <strong>Select Features</strong>. Click <strong>Close</strong>.&nbsp;</p></li>
<li><p>Right click on the layer and save selected features into the SG GeoPackage as roads_pri.&nbsp;</p></li>
</ol>
<p><br>
</p>
<p>For secondary schools and pre-tertiary institutes, the steps will be similar as before, except that we will be considering more types of roads. The expression box should look like the screenshot below.&nbsp;</p>
<p><img src="https://lh4.googleusercontent.com/8SUs6OjbpR_7iFfwKRBfsBEbcGivfL2esKjbGfU_P9ZG-zkpciQ7Z0NakzpZ8p8u-nrhpJOPBSoi8h2vPcEXo5Vv4j6qBq9ZZKOqEWGUJ1_niGnkDC6EJwwxXv4jcRi14xXPDJPHvfyCIkjcGf-5OfkZaFfdFr4CNAenesvobDuhBfveU541GpSZjdRSzQ.png" class="img-fluid"></p>
<p><br>
</p>
</section>
</section>
<section id="analytical-hexagon" class="level2">
<h2 class="anchored" data-anchor-id="analytical-hexagon">4. Analytical Hexagon&nbsp;</h2>
<section id="creating-hexagon-layer" class="level3">
<h3 class="anchored" data-anchor-id="creating-hexagon-layer">4.1. Creating hexagon layer</h3>
<p>Select <strong>Vector</strong> &gt; <strong>Research Tools</strong> &gt; <strong>Create Grid</strong>. The Create Grid dialog window appears.&nbsp; For Grid type, select Hexagon (Polygon). For Grid extent, click on the dropdown and select Calculate from Layer. Select MP14.&nbsp;</p>
<p><img src="https://lh3.googleusercontent.com/VUc8awf7yL7bB7JgQ7BZwKVyGiCdnr6MD5cM89OmPplLiREz9qtqikcLX8rtgg9n5BoTrTGlH0NbvR1bI4_zIx5eBW01cqQvBzXDpFs_7bGQkdRY_vevi5sp4tgVikiLu-A3R7oJT5SuchzZ9yPjKlkD_cQUQrHjPA1zbXuaSNuWXgGZoDOskAwrb9r1Og.png" class="img-fluid"></p>
<p>For both Horizontal spacing and Vertical spacing, enter 500. For Grid CRS, select EPSG:3414 - SVY21. Your dialog window should look like the screenshot below. When ready, click <strong>Run</strong>. Click <strong>Close</strong>. A temporary layer called Grid is added on to the Layer pane.&nbsp;</p>
<p><img src="https://lh5.googleusercontent.com/LiLiQPn0xXvF5041QpqK-V9FLlAYms8bq0HhC_zDMsesSSqy5EwDLl6NNl7yfjqEo228OYrnYvGrpNL1B38lh4lWHy7a3EuLg8yL7sfL1xJiHDVigIYeVeDuSLn_0yr8zje3Jc6qACPX_Q0iVDqzuswL4fCgboapmaS_wwViMrPRYrfMJfHMUW3YXKPbDg.png" class="img-fluid"></p>
<p><br>
</p>
</section>
<section id="editing-and-saving-the-hexagon-layer" class="level3">
<h3 class="anchored" data-anchor-id="editing-and-saving-the-hexagon-layer">4.2. Editing and saving the hexagon layer</h3>
<p>Select <strong>Vector</strong> &gt; <strong>GeoProcessing</strong> &gt; <strong>Clip</strong>. For Input, select Grid. For Overlay, select MP14. Click on Advanced Options icon. For Invalid feature filtering, select Do not Filter (Better Performance). When ready, click <strong>Run</strong>. Once the clipped layer has been created, save it into the SG GeoPackage as hexagon14. Once saved, remove the Clipped layer and Grid layer.&nbsp;</p>
</section>
<section id="computing-and-saving-the-hexagon-centroid" class="level3">
<h3 class="anchored" data-anchor-id="computing-and-saving-the-hexagon-centroid">4.3. Computing and saving the hexagon centroid</h3>
<p>Select <strong>Vector</strong> &gt; <strong>Geometry Tools</strong> &gt; <strong>Centroid</strong>. For Input layer, select hexagon14. When ready, click Run. Notice that a new temporary layer called Centroid is added onto Layers panel. Save the layer into SG GeoPackage as hex_centroid14. When done, remove the temporary Centroid layer.&nbsp;</p>
<p><br>
</p>
</section>
</section>
<section id="network-accessibility-analysis-with-neat3" class="level2">
<h2 class="anchored" data-anchor-id="network-accessibility-analysis-with-neat3">5. Network accessibility analysis with NEAT3</h2>
<section id="working-with-od-matrix-tool" class="level3">
<h3 class="anchored" data-anchor-id="working-with-od-matrix-tool">5.1 Working with OD Matrix Tool</h3>
<p>Select <strong>Processing</strong> &gt; <strong>Toolbox</strong>. At the <strong>Search</strong> pane, type OD Matrix and select <strong>OD Matrix from Layers as Table</strong>. We will need to repeat this for each of the point layers for the different years. We can start with bef15_pri. Your dialog window should look like the screenshots below.&nbsp;</p>
<p><img src="https://lh6.googleusercontent.com/ljnU-d2vwn2j4U6IwqciT-WgZPW-oKhazx-zWW8jYqpb9SnnLVKWkoW-SXIaWpOwsvOc17H0ubX62ggJ_ydO6piKlTQxflIIOrs7G6XhR2sB4LGtKvZEijAUEkWwrO79y01SxtTPsqUQZb1uF-F9NJ4jyh8wYRWy8BBwDoCX_LFieA-DjzynUVdiGXsllg.png" class="img-fluid"><img src="https://lh5.googleusercontent.com/e-pdVOsc9LgFslcUOcy9ne7e00tqDBBZw_QS0t458bz0CRVzPCXl28mI5oRTWby1u60sOZcKEZiMGs6nqVDXc0aho-hBL0v5d5Q5afUCItrvSNVuSHbdMYEJ6IF3HE_oFDoQAujhmhhZablF2wDAOuWH8YIyaMvHhOBNc5K34sAXfB9eM-tE1nU7H_S-_Q.png" class="img-fluid"></p>
<p>When ready, click <strong>Run</strong>.&nbsp;</p>
<p><br>
</p>
<p>When the process has been completed, save the OD Matrix into the SG GeoPackage as ODmatrix_bef15. You can remove the temporary layer.&nbsp;</p>
<p><br>
</p>
<p>Repeat the above steps for bef17 (filename: ODmatrix_bef17), bef19 (filename: ODmatrix_bef19) and aft19 (filename: ODmatrix_aft19).&nbsp;</p>
<p><br>
</p>
</section>
<section id="extracting-shortest-distance-pairs" class="level3">
<h3 class="anchored" data-anchor-id="extracting-shortest-distance-pairs">5.2. Extracting shortest distance pairs</h3>
<p>Next, we will use the SQL tool of QGIS to select destination points with the shortest distance. At the <strong>Search</strong> pane of <strong>Processing Toolbox</strong>, type SQL. Double click on Execute SQL of Vector general.&nbsp;</p>
<p><br>
</p>
<p>Let’s start with ODmatrix_bef15. For <strong>Additional input datasources</strong>, select ODmatrix_bef15. We will repeat this for the other OD matrices later. In the SQL query box, enter the following statement:&nbsp;</p>
<p><br>
</p>
<p>select fid, origin_id, destination_id, min(total_cost) as shortest_distance</p>
<p>from input1 group by origin_id</p>
<p><br>
</p>
<p>For Geometry type, select No geometry. When ready, click <strong>Run</strong>. Notice that a temporary table called SQL Output is added into Layers panel.&nbsp;</p>
<p><br>
</p>
<p>Right click on the SQL Output layer and <strong>Open Attribute Table</strong>. Select <strong>Open Field Calculator</strong> and select <strong>Create a new field</strong>. For Output field name, enter shortestdist_num. For Output field type, select Decimal number (real). For the Expression box, enter “shortest_distance”. Click <strong>OK</strong> and save the changes made.&nbsp;</p>
<p><br>
</p>
<p>Save the SQL output into the SG GeoPackage as shortestdist_bef15, and remove the temporary SQL output layer.&nbsp;</p>
<p><br>
</p>
<p>Repeat this process for the other years, and save the layers as shortestdist_bef17, shortestdist_bef19 and shortestdist_aft19.&nbsp;</p>
<p><br>
</p>
</section>
<section id="mapping-accessibility-values" class="level3">
<h3 class="anchored" data-anchor-id="mapping-accessibility-values">5.3. Mapping accessibility values</h3>
<section id="creating-a-duplicate-layer" class="level4">
<h4 class="anchored" data-anchor-id="creating-a-duplicate-layer">5.3.1. Creating a duplicate layer&nbsp;</h4>
<p>Before we continue, let us create a duplicate copy of hexagon14 layer. Right click on the layer and select Duplicate Layer. You can rename the layer as “acc to pri bef15”.&nbsp;</p>
</section>
<section id="performing-relational-join" class="level4">
<h4 class="anchored" data-anchor-id="performing-relational-join">5.3.2. Performing relational join</h4>
<p>Right click on the acc to pri bef15 layer. Select <strong>Properties</strong> &gt; <strong>Joins</strong> &gt; <strong>Add</strong>. For Join layer, select shortestdist_bef15. For Join field, select origin_id. For Target field, select fid. Your dialog window should look like the screenshot below. When ready, click <strong>OK</strong>.&nbsp;</p>
<p><img src="https://lh3.googleusercontent.com/5dkr9Kxv8ApkZq4eAgxFmpdxk2ueAS9rR28wKr5pqS136z1GPkJY_tl2eAPN-BBQw6CNjZQBwFLQTDctRhSzSVUfruO4B48GB8xCCffn-8820EJWtfcv69ZCywPONx4CNUnPU2UKKJBu7vGJXTUj-bF-uGcOc6y9q2PvqK2ZPPGKT70STg7wr_6DfhoLkQ.png" class="img-fluid"></p>
</section>
<section id="creating-choropleth-map" class="level4">
<h4 class="anchored" data-anchor-id="creating-choropleth-map">5.3.3. Creating choropleth map&nbsp;</h4>
<p>Right click on the acc to pri bef15 layer. Select <strong>Properties</strong> &gt; <strong>Symbology</strong>. Select Graduated. For Value, select shortestdist_bef15_shortestdist_num. Change the colour ramp to your preferred colour. For our map, we used blue and inverted the colour ramp. For Mode, select Equal Count (Quantile). Click <strong>Classify</strong>. Your dialog window should look like the screenshot below.&nbsp;</p>
<p><img src="https://lh5.googleusercontent.com/e_I5C_tsepnx2FKGjW_DDfkTMLC2FUL9nWfRFcTV-vdprSOPRvH6pg-WqcgDmjBWaM-Ovhpp8AzGkZrwpXE_THqBAS4l74jiktFmt0MdUe3FFU1q7lFx8Ye2JzKK5hV4yaTJ2_XAKHx5nBfTaTN35Q5NnSOpxzuc5B1HWTTsIxQx0iXDi4ZUMQLWhwHt1Q.png" class="img-fluid"></p>
<p>When done, click <strong>Apply</strong> and click <strong>OK</strong>.&nbsp;</p>
<p><br>
</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>